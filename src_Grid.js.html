

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: src/Grid.js | NHAI</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
        
            <link type="text/css" rel="stylesheet" href="jsdoc.css">
        
    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 1px; height: 1px">
        
            <a href="https://apowers313.github.io/nhai/" rel="noopener noreferrer" target="_blank">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/1x1.png" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">NHAI</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-Config.html">Config</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Config_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Config.html#~app-name">app-name</a></li><li><a href="module-Config.html#~app-version">app-version</a></li><li><a href="module-Config.html#~debug-break-on-entry">debug-break-on-entry</a></li><li><a href="module-Config.html#~debug-sync-environment">debug-sync-environment</a></li><li><a href="module-Config.html#~environment-async-time">environment-async-time</a></li><li><a href="module-Config.html#~environment-sync-watchdog-timeout">environment-sync-watchdog-timeout</a></li><li><a href="module-Config.html#~environment-synchronous">environment-synchronous</a></li><li><a href="module-Config.html#~graphdb-name">graphdb-name</a></li><li><a href="module-Config.html#~html-template-dir">html-template-dir</a></li><li><a href="module-Config.html#~locale">locale</a></li><li><a href="module-Config.html#~log-error-stack">log-error-stack</a></li><li><a href="module-Config.html#~log-error-stack-length">log-error-stack-length</a></li><li><a href="module-Config.html#~log-file-enabled">log-file-enabled</a></li><li><a href="module-Config.html#~log-file-path">log-file-path</a></li><li><a href="module-Config.html#~log-file-prefix">log-file-prefix</a></li><li><a href="module-Config.html#~log-file-suffix">log-file-suffix</a></li><li><a href="module-Config.html#~log-force-color">log-force-color</a></li><li><a href="module-Config.html#~log-level">log-level</a></li><li><a href="module-Config.html#~log-patch-console">log-patch-console</a></li><li><a href="module-Config.html#~log-start-msg">log-start-msg</a></li><li><a href="module-Config.html#~random-seed">random-seed</a></li><li><a href="module-Config.html#~redisgraph-options">redisgraph-options</a></li><li><a href="module-Config.html#~redisgraph-port">redisgraph-port</a></li><li><a href="module-Config.html#~redisgraph-server">redisgraph-server</a></li><li><a href="module-Config.html#~schema-dir">schema-dir</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="Action.html">Action</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Action_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Action.html#.eventBus">eventBus</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Action.html#.addAction">addAction</a></li><li><a href="Action.html#.clearActions">clearActions</a></li><li><a href="Action.html#.getActionList">getActionList</a></li></ul></div></li><li><a href="ActionEvent.html">ActionEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ActionEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ActionEvent.html#allowedEventTypes">allowedEventTypes</a></li><li><a href="ActionEvent.html#eventBus">eventBus</a></li><li><a href="ActionEvent.html#sourceName">sourceName</a></li><li><a href="ActionEvent.html#sourceType">sourceType</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="ActionEvent.html#emit">emit</a></li><li><a href="ActionEvent.html#toString">toString</a></li></ul></div></li><li><a href="ActionSelection.html">ActionSelection</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ActionSelection_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ActionSelection.html#performAction">performAction</a></li><li><a href="ActionSelection.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="Breakpoint.html">Breakpoint</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Breakpoint_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Breakpoint.html#.inBreak">inBreak</a></li><li><a href="Breakpoint.html#.list">list</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Breakpoint.html#.checkBreak">checkBreak</a></li><li><a href="Breakpoint.html#.clear">clear</a></li><li><a href="Breakpoint.html#.clearAll">clearAll</a></li><li><a href="Breakpoint.html#.disable">disable</a></li><li><a href="Breakpoint.html#.enable">enable</a></li><li><a href="Breakpoint.html#.find">find</a></li><li><a href="Breakpoint.html#.init">init</a></li><li><a href="Breakpoint.html#.run">run</a></li><li><a href="Breakpoint.html#.setBreakpoint">setBreakpoint</a></li><li><a href="Breakpoint.html#clear">clear</a></li><li><a href="Breakpoint.html#disable">disable</a></li><li><a href="Breakpoint.html#enable">enable</a></li><li><a href="Breakpoint.html#matchEvent">matchEvent</a></li><li><a href="Breakpoint.html#toString">toString</a></li></ul></div></li><li><a href="Component.html">Component</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Component_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Component.html#.list">list</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Component.html#.clearList">clearList</a></li><li><a href="Component.html#.get">get</a></li><li><a href="Component.html#.register">register</a></li><li><a href="Component.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="Context.html">Context</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Context_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Context.html#.eventBus">eventBus</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Context.html#.init">init</a></li><li><a href="Context.html#.shutdown">shutdown</a></li></ul></div></li><li><a href="ContextEvent.html">ContextEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ContextEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ContextEvent.html#allowedEventTypes">allowedEventTypes</a></li><li><a href="ContextEvent.html#eventBus">eventBus</a></li><li><a href="ContextEvent.html#sourceName">sourceName</a></li><li><a href="ContextEvent.html#sourceType">sourceType</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="ContextEvent.html#emit">emit</a></li><li><a href="ContextEvent.html#toString">toString</a></li></ul></div></li><li><a href="DeltaFeatureExtractor.html">DeltaFeatureExtractor</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="DeltaFeatureExtractor_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="DeltaFeatureExtractor.html#createDelta">createDelta</a></li><li><a href="DeltaFeatureExtractor.html#listen">listen</a></li><li><a href="DeltaFeatureExtractor.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="EventBase.html">EventBase</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventBase_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="EventBase.html#allowedEventTypes">allowedEventTypes</a></li><li><a href="EventBase.html#eventBus">eventBus</a></li><li><a href="EventBase.html#sourceName">sourceName</a></li><li><a href="EventBase.html#sourceType">sourceType</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="EventBase.html#emit">emit</a></li><li><a href="EventBase.html#toString">toString</a></li></ul></div></li><li><a href="EventBusBase.html">EventBusBase</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventBusBase_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="EventBusBase.html#.eventBusList">eventBusList</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="EventBusBase.html#checkEvent">checkEvent</a></li><li><a href="EventBusBase.html#emit">emit</a></li></ul></div></li><li><a href="EventFilter.html">EventFilter</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventFilter_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="EventFilter.html#.buildTestFn">buildTestFn</a></li><li><a href="EventFilter.html#allowEvent">allowEvent</a></li><li><a href="EventFilter.html#denyEvent">denyEvent</a></li><li><a href="EventFilter.html#matchEvent">matchEvent</a></li></ul></div></li><li><a href="EventListener.html">EventListener</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EventListener_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="EventListener.html#.listenAllList">listenAllList</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="EventListener.html#.clearListenAll">clearListenAll</a></li><li><a href="EventListener.html#.listenAll">listenAll</a></li><li><a href="EventListener.html#addFilter">addFilter</a></li><li><a href="EventListener.html#applyFilter">applyFilter</a></li><li><a href="EventListener.html#update">update</a></li></ul></div></li><li><a href="FeatureExtractor.html">FeatureExtractor</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FeatureExtractor_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="FeatureExtractor.html#listen">listen</a></li><li><a href="FeatureExtractor.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="GraphDb.html">GraphDb</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="GraphDb_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="GraphDb.html#.graph">graph</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="GraphDb.html#.init">init</a></li><li><a href="GraphDb.html#.query">query</a></li><li><a href="GraphDb.html#.shutdown">shutdown</a></li><li><a href="GraphDb.html#.wipe">wipe</a></li></ul></div></li><li><a href="Grid.html">Grid</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.html#dataBuf">dataBuf</a></li><li><a href="Grid.html#height">height</a></li><li><a href="Grid.html#width">width</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.html#.diff">diff</a></li><li><a href="Grid.html#.from">from</a></li><li><a href="Grid.html#clear">clear</a></li><li><a href="Grid.html#copy">copy</a></li><li><a href="Grid.html#forEach">forEach</a></li><li><a href="Grid.html#toString">toString</a></li></ul></div></li><li><a href="HtmlTemplate.html">HtmlTemplate</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="HtmlTemplate_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="HtmlTemplate.html#.getGlobals">getGlobals</a></li><li><a href="HtmlTemplate.html#.init">init</a></li><li><a href="HtmlTemplate.html#.resetGlobals">resetGlobals</a></li><li><a href="HtmlTemplate.html#.setGlobal">setGlobal</a></li><li><a href="HtmlTemplate.html#.shutdown">shutdown</a></li><li><a href="HtmlTemplate.html#toHtml">toHtml</a></li></ul></div></li><li><a href="Intrinsic.html">Intrinsic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Intrinsic_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Intrinsic.html#max">max</a></li><li><a href="Intrinsic.html#min">min</a></li><li><a href="Intrinsic.html#normalizedValue">normalizedValue</a></li><li><a href="Intrinsic.html#positive">positive</a></li><li><a href="Intrinsic.html#range">range</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Intrinsic.html#.defaultConverter">defaultConverter</a></li><li><a href="Intrinsic.html#getValue">getValue</a></li><li><a href="Intrinsic.html#sendEvent">sendEvent</a></li><li><a href="Intrinsic.html#setValue">setValue</a></li></ul></div></li><li><a href="Log.html">Log</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Log_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Log.html#.addStream">addStream</a></li><li><a href="Log.html#.debug">debug</a></li><li><a href="Log.html#.error">error</a></li><li><a href="Log.html#.fatal">fatal</a></li><li><a href="Log.html#.getBaseLogger">getBaseLogger</a></li><li><a href="Log.html#.getMainLogger">getMainLogger</a></li><li><a href="Log.html#.getStdoutLevel">getStdoutLevel</a></li><li><a href="Log.html#.info">info</a></li><li><a href="Log.html#.init">init</a></li><li><a href="Log.html#.levelToName">levelToName</a></li><li><a href="Log.html#.nameToLevel">nameToLevel</a></li><li><a href="Log.html#.patch">patch</a></li><li><a href="Log.html#.print">print</a></li><li><a href="Log.html#.printErr">printErr</a></li><li><a href="Log.html#.setStdoutLevel">setStdoutLevel</a></li><li><a href="Log.html#.trace">trace</a></li><li><a href="Log.html#.unpatch">unpatch</a></li><li><a href="Log.html#.warn">warn</a></li><li><a href="Log.html#debug">debug</a></li><li><a href="Log.html#error">error</a></li><li><a href="Log.html#fatal">fatal</a></li><li><a href="Log.html#info">info</a></li><li><a href="Log.html#trace">trace</a></li><li><a href="Log.html#warn">warn</a></li></ul></div></li><li><a href="module-Config-Config.html">Config</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Config~Config_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Config-Config.html#.fileList">fileList</a></li><li><a href="module-Config-Config.html#.isLoaded">isLoaded</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Config-Config.html#.get">get</a></li><li><a href="module-Config-Config.html#.getConfig">getConfig</a></li><li><a href="module-Config-Config.html#.init">init</a></li><li><a href="module-Config-Config.html#.load">load</a></li><li><a href="module-Config-Config.html#.reset">reset</a></li><li><a href="module-Config-Config.html#.set">set</a></li></ul></div></li><li><a href="Perception.html">Perception</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Perception_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Perception.html#.eventBus">eventBus</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Perception.html#input">input</a></li><li><a href="Perception.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="PerceptionEvent.html">PerceptionEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="PerceptionEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="PerceptionEvent.html#allowedEventTypes">allowedEventTypes</a></li><li><a href="PerceptionEvent.html#eventBus">eventBus</a></li><li><a href="PerceptionEvent.html#sourceName">sourceName</a></li><li><a href="PerceptionEvent.html#sourceType">sourceType</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="PerceptionEvent.html#emit">emit</a></li><li><a href="PerceptionEvent.html#toString">toString</a></li></ul></div></li><li><a href="Pipeline.html">Pipeline</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Pipeline_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Pipeline.html#.build">build</a></li><li><a href="Pipeline.html#.create">create</a></li><li><a href="Pipeline.html#.get">get</a></li><li><a href="Pipeline.html#build">build</a></li><li><a href="Pipeline.html#run">run</a></li></ul></div></li><li><a href="PipelineStage.html">PipelineStage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="PipelineStage_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="PipelineStage.html#name">name</a></li><li><a href="PipelineStage.html#nextStage">nextStage</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="PipelineStage.html#.clearAll">clearAll</a></li><li><a href="PipelineStage.html#.clearConverters">clearConverters</a></li><li><a href="PipelineStage.html#.create">create</a></li><li><a href="PipelineStage.html#.findConverter">findConverter</a></li><li><a href="PipelineStage.html#.register">register</a></li><li><a href="PipelineStage.html#.registerConverter">registerConverter</a></li><li><a href="PipelineStage.html#run">run</a></li><li><a href="PipelineStage.html#setOutput">setOutput</a></li></ul></div></li><li><a href="Schema.html">Schema</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Schema_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Schema.html#.init">init</a></li><li><a href="Schema.html#.loadSchema">loadSchema</a></li><li><a href="Schema.html#.shutdown">shutdown</a></li><li><a href="Schema.html#.validate">validate</a></li></ul></div></li><li><a href="Significance.html">Significance</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Significance_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Significance.html#.eventBus">eventBus</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Significance.html#.clearWeights">clearWeights</a></li><li><a href="Significance.html#.getWeight">getWeight</a></li><li><a href="Significance.html#.init">init</a></li><li><a href="Significance.html#.setWeight">setWeight</a></li><li><a href="Significance.html#.shutdown">shutdown</a></li><li><a href="Significance.html#getChange">getChange</a></li><li><a href="Significance.html#onTick">onTick</a></li><li><a href="Significance.html#sendEvent">sendEvent</a></li></ul></div></li><li><a href="SignificanceEvent.html">SignificanceEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="SignificanceEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="SignificanceEvent.html#allowedEventTypes">allowedEventTypes</a></li><li><a href="SignificanceEvent.html#eventBus">eventBus</a></li><li><a href="SignificanceEvent.html#sourceName">sourceName</a></li><li><a href="SignificanceEvent.html#sourceType">sourceType</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="SignificanceEvent.html#emit">emit</a></li><li><a href="SignificanceEvent.html#toString">toString</a></li></ul></div></li><li><a href="StatusImage.html">StatusImage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="StatusImage_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="StatusImage.html#_eventCb">_eventCb</a></li><li><a href="StatusImage.html#render">render</a></li></ul></div></li><li><a href="Synchronize.html">Synchronize</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Synchronize_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Synchronize.html#.tickCount">tickCount</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Synchronize.html#.init">init</a></li><li><a href="Synchronize.html#.nextTick">nextTick</a></li><li><a href="Synchronize.html#.pauseWatchdog">pauseWatchdog</a></li><li><a href="Synchronize.html#.register">register</a></li><li><a href="Synchronize.html#.shutdown">shutdown</a></li><li><a href="Synchronize.html#.startWatchdog">startWatchdog</a></li><li><a href="Synchronize.html#.syncWatchdog">syncWatchdog</a></li><li><a href="Synchronize.html#.unregister">unregister</a></li></ul></div></li><li><a href="SynchronizeEvent.html">SynchronizeEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="SynchronizeEvent_sub"></div></li><li><a href="Trace.html">Trace</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Trace_sub"></div></li><li><a href="TransientObject.html">TransientObject</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TransientObject_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="TransientObject.html#.deleteId">deleteId</a></li><li><a href="TransientObject.html#delete">delete</a></li><li><a href="TransientObject.html#load">load</a></li><li><a href="TransientObject.html#store">store</a></li><li><a href="TransientObject.html#toJson">toJson</a></li><li><a href="TransientObject.html#toString">toString</a></li></ul></div></li><li><a href="Utility.html">Utility</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Utility_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Utility.html#.checkInstance">checkInstance</a></li><li><a href="Utility.html#.checkType">checkType</a></li><li><a href="Utility.html#.createHiddenProp">createHiddenProp</a></li><li><a href="Utility.html#.delay">delay</a></li><li><a href="Utility.html#.randomFloat">randomFloat</a></li><li><a href="Utility.html#.randomInt">randomInt</a></li><li><a href="Utility.html#.randomSeed">randomSeed</a></li><li><a href="Utility.html#.resolveFileOrString">resolveFileOrString</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Global</h3><ul><li><a href="global.html#watch">watch</a></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const {checkType, checkInstance, createHiddenProp} = require("../index").Utility;

function checkBounds(max, val) {
    // TODO: check to make sure val is a number
    if (val >= max) {
        throw new RangeError(`Attempting to access value out of bounds: requested ${val}, max is ${max - 1}`);
    }

    if (val &lt; 0) {
        throw new RangeError(`Attempting to access value out of bounds: requested ${val}`);
    }
}

function getProp(name) {
    if (name[0] === "_") {
        throw new Error(`attempting to access private property ${name}`);
    }

    let n = Number.parseInt(name);
    if (Number.isInteger(n)) {
        return n;
    }

    return name;
}

class yValue {
    constructor(dataBuf, height, x, opts = {}) {
        createHiddenProp(this, "_height", height, true);
        createHiddenProp(this, "_baseOffset", height * x, true);
        createHiddenProp(this, "_dataBuf", dataBuf, true);
        this.serializer = opts.serializer || defaultSerializer;
        this.converter = opts.converter || defaultConverter;

        return new Proxy(this, {
            get: this.getHandler.bind(this),
            set: this.setHandler.bind(this),
        });
    }

    // eslint-disable-next-line no-unused-vars
    getHandler(target, idx, receiver) {
        idx = getProp(idx);

        if (Number.isInteger(idx)) {
            checkBounds(this._height, idx);
            let offset = this._baseOffset + idx;
            return this._dataBuf[offset];
        }

        throw new Error(`can't get property ${idx}`);
    }

    // eslint-disable-next-line no-unused-vars
    setHandler(target, idx, value, receiver) {
        idx = getProp(idx);

        if (Number.isInteger(idx)) {
            checkBounds(this._height, idx);
            let offset = this._baseOffset + idx;
            this._dataBuf[offset] = this.converter(value);
            return true;
        }

        throw new Error(`can't set property ${idx}`);
    }
}

/**
 * A two-dimensional array class
 */
class Grid {
    /**
     * Creates a new two dimensional array
     *
     * @param {number}   width           - The width of the Grid
     * @param {height}   height          - The height of the Grid
     * @param {object}   opts            - Options
     * @param {Function} opts.serializer - A function that converts values from a number to a string for `toString`. Function accepts a single 'num' argument that is the Number to be converted and returns a string.
     * @param {Function} opts.converter  - A function that converts values to be stored in the Grid. Function accepts a single 'val' argument and returns an number.
     */
    constructor(width, height, opts = {}) {
        createHiddenProp(this, "_width", width, true);
        createHiddenProp(this, "_height", height, true);

        let db;
        if (opts.buffer &amp;&amp; (opts.buffer instanceof Uint8Array)) {
            if (opts.buffer.byteLength !== (width * height)) {
                throw new Error("Grid constructor 'opts.buffer' was wrong size, didn't match width * height");
            }

            db = Uint8Array.from(opts.buffer);
        } else {
            db = new Uint8Array(width * height);
        }

        createHiddenProp(this, "_dataBuf", db, true);

        let xArray = [];
        for (let x = 0; x &lt; width; x++) {
            xArray[x] = new yValue(this._dataBuf, height, x, opts);
        }

        createHiddenProp(this, "_xArray", xArray, true);
        this.serializer = opts.serializer || defaultSerializer;
        this.converter = opts.converter || defaultConverter;

        return new Proxy(this, {
            get: getHandler.bind(this),
            set: setHandler.bind(this),
        });
    }

    /** How wide the Grid is */
    get width() {
        return this._width;
    }

    /** How tall the Grid is */
    get height() {
        return this._height;
    }

    /** A {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array|Uint8Array} for the raw data underlying the Grid */
    get dataBuf() {
        return this._dataBuf;
    }

    // eslint-disable-next-line jsdoc/require-jsdoc
    get [Symbol.toStringTag]() {
        return "Grid";
    }

    /**
     * Convert the Grid to a human-readable string. If `converter` was specified as an option during construction, it is used to
     * convert each element.
     *
     * @returns {string} A human-readable string representing the Grid.
     */
    toString() {
        let output = "";

        for (let y = 0; y &lt; this.height; y++) {
            // output += "\"";
            for (let x = 0; x &lt; this.width; x++) {
                output += this.serializer(this[x][y]);
            }

            // output += "\"\\n +\n";
            output += "\n";
        }

        return output;
    }

    /**
     * Creates a copy of the Grid with the same values but different underlying data.
     *
     * @returns {Grid} A duplicate of the Grid
     */
    copy() {
        let ret = new Grid(this.width, this.height, {
            serializer: this.serializer,
            converter: this.converter,
            buffer: this.dataBuf,
        });

        return ret;
    }

    /**
     * Resets all data in the Grid to zero.
     */
    clear() {
        this.dataBuf.fill(0, 0, this.dataBuf.buffer.length);
    }

    /**
     * Iterates all the cells of the Grid
     *
     * @param   {Function} cb Called for each cell of the Grid. Signature is `cb(value, x, y, grid)`.
     */
    forEach(cb) {
        checkType("forEach", "cb", cb, "function");
        for (let y = 0; y &lt; this.height; y++) {
            for (let x = 0; x &lt; this.width; x++) {
                cb(this[x][y], x, y, this);
            }
        }
    }

    /**
     * Creates a new Grid from an Array of strings.
     *
     * @param   {Array.&lt;string>} val An array of equal length strings to set the initial value of the Grid.
     * The Grid height will be equal to the number of elements in the array, and the width will be equal to
     * the length of the strings.
     */
    static from(val) {
        if (Array.isArray(val)) {
            checkType("Grid.from", "val[0]", val[0], "string");
            // TODO: assuming array of strings
            // TODO: all lines are the same length
            let w = val[0].length;
            let h = val.length;
            let g = new Grid(w, h);

            g.forEach((v, x, y) => {
                g[x][y] = val[y][x];
            });

            return g;
        }

        // TODO: .from(ArrayBuffer,x,y)
        throw new TypeError(`Grid.from got unexpected type: ${val}`);
    }

    /**
     * Compares two Grids and returns an Array of the differences. Grids must be the same height and width.
     *
     * @param {Grid} src - The first grid to compare.
     * @param {Grid} dst - The second grid to compare.
     *
     * @returns {Array.&lt;object>|null}     An Array of Objects describing the differences. Object for each change is `{x, y, srcVal, dstVal}`. Returns `null` if there are no differences.
     */
    static diff(src, dst) {
        checkInstance("diff", "src", src, Grid);
        checkInstance("diff", "dst", dst, Grid);
        if (src.height !== dst.height || src.width !== dst.width) {
            throw new Error(`diff expected Grids to be same size: src(${src.width},${src.height}) vs dst(${dst.width},${dst.height})`);
        }

        let ret = [];
        src.forEach((v, x, y) => {
            if (src[x][y] !== dst[x][y]) {
                ret.push({
                    x,
                    y,
                    srcVal: src[x][y],
                    dstVal: dst[x][y],
                });
            }
        });

        return ret.length ? ret : null;
    }
}

// eslint-disable-next-line no-unused-vars
function getHandler(target, idx, receiver) {
    idx = getProp(idx);

    if (Number.isInteger(idx)) {
        checkBounds(this._width, idx);
        return this._xArray[idx];
    }

    return this[idx];
}

// eslint-disable-next-line no-unused-vars
function setHandler(target, idx, value, receiver) {
    // console.log("Grid setHandler");
    // idx = getProp(idx);
    // if (Number.isInteger(idx)) throw new Error(`can't set 'x' value: ${idx}`);
    throw new Error(`can't set property ${idx}`);
}

function defaultSerializer(val) {
    if (val === undefined) {
        return "    ";
    }

    return val.toString().padStart(4);
}

function defaultConverter(val) {
    if (typeof val === "number") {
        return val;
    }

    if (typeof val === "string" &amp;&amp; val.length === 1) {
        return (val === " ") ? 0 : val.charCodeAt(0);
    }

    throw new Error(`unable to convert value ${val} to number`);
}

module.exports = {Grid};
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/c/ca/1x1.png" style="width: 1px; height: 1px">
    <div class="footer-text">TEST FOOTER</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
